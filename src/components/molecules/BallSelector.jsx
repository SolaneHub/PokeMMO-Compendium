import { ChevronDown, Search } from"lucide-react";
import { useState } from"react"; 

import Dropdown from"@/components/atoms/Dropdown";
import ItemImage from"@/components/atoms/ItemImage"; 
import { BALL_TYPES } from"@/constants/calculatorConstants";const BallSelector = ({ selectedBall, onSelect }) => { const [isOpen, setIsOpen] = useState(false); const [search, setSearch] = useState(""); const currentBall = BALL_TYPES.find((b) => b.name === selectedBall); const filteredBalls = BALL_TYPES.filter((b) => b.name.toLowerCase().includes(search.toLowerCase()) ); return ( <Dropdown isOpen={isOpen} onOpenChange={setIsOpen} className="z-30 w-full" contentClassName="w-full" trigger={ <button className="group flex w-full items-center justify-between rounded-xl border border-slate-700 bg-[#15161a] p-3 transition-all hover:border-slate-500"> <div className="flex items-center gap-3"> <div className="flex h-10 w-10 items-center justify-center rounded-lg border border-white/5 bg-[#0f1013] transition-colors group-hover:border-white/10"> <ItemImage item={selectedBall} className="h-8 w-8 object-contain" /> </div> <div className="flex flex-col items-start"> <span className="font-bold">{selectedBall}</span> <span className="text-xs text-slate-500"> x{currentBall?.multiplier} rate </span> </div> </div> <ChevronDown className={`text-slate-500 transition-transform duration-200 ${isOpen ?"rotate-180" :""}`} /> </button> } > <div className="animate-in fade-in zoom-in-95 overflow-hidden rounded-xl border border-slate-700 bg-[#1e2025] shadow-2xl duration-100"> <div className="border-b border-slate-700 p-2"> <div className="relative"> <Search className="absolute top-1/2 left-3 -translate-y-1/2 text-slate-500" size={16} /> <input type="text" placeholder="Find a ball..." value={search} onChange={(e) => setSearch(e.target.value)} className="w-full rounded-lg border border-slate-700 bg-[#15161a] py-2 pr-3 pl-9 text-sm focus:border-blue-500 focus:outline-none" autoFocus /> </div> </div> <div className="scrollbar-thin scrollbar-thumb-slate-700 max-h-60 overflow-y-auto p-1"> {filteredBalls.map((ball) => ( <button key={ball.name} onClick={() => { onSelect(ball.name); setIsOpen(false); setSearch(""); }} className={`flex w-full items-center gap-3 rounded-lg p-2 transition-colors ${ selectedBall === ball.name ?"bg-blue-600/20 text-blue-400" :" hover:bg-white/5" }`} > <ItemImage item={ball.name} className="h-6 w-6 object-contain" /> <span className="text-sm font-medium">{ball.name}</span> <span className="ml-auto rounded bg-black/20 px-1.5 py-0.5 text-xs text-slate-500"> x{ball.multiplier} </span> </button> ))} {filteredBalls.length === 0 && ( <div className="p-4 text-center text-sm text-slate-500"> No balls found </div> )} </div> </div> </Dropdown> );
}; export default BallSelector; 
