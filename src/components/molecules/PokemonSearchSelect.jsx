import { X } from"lucide-react";
import { useMemo, useState } from"react"; const PokemonSearchSelect = ({ allPokemon, onSelect, excludeNames = [] }) => { const [query, setQuery] = useState(""); const [isOpen, setIsOpen] = useState(false); const filtered = useMemo(() => { if (!query) return []; return allPokemon .filter( (p) => p.name.toLowerCase().includes(query.toLowerCase()) && !excludeNames.includes(p.name) ) .slice(0, 10); }, [allPokemon, query, excludeNames]); return ( <div className="relative"> <div className="flex items-center gap-2"> <input type="text" value={query} onChange={(e) => { setQuery(e.target.value); setIsOpen(true); }} onFocus={() => setIsOpen(true)} placeholder="Search Pokemon to add..." className="flex-1 rounded bg-slate-700 p-2 focus:outline-none" /> <button onClick={() => { setQuery(""); setIsOpen(false); }} className="rounded bg-slate-600 p-2 hover:bg-slate-500" > <X size={16} /> </button> </div> {isOpen && filtered.length > 0 && ( <div className="absolute z-10 mt-1 w-full rounded-md border border-slate-600 bg-slate-800 shadow-xl"> {filtered.map((p) => ( <button key={p.name} onClick={() => { onSelect(p.name); setQuery(""); setIsOpen(false); }} className="block w-full px-4 py-2 text-left text-sm hover:bg-slate-700" > {p.name} </button> ))} </div> )} </div> );
}; export default PokemonSearchSelect; 
